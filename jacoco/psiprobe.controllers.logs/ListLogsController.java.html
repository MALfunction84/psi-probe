<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ListLogsController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">psi-probe-core</a> &gt; <a href="index.source.html" class="el_package">psiprobe.controllers.logs</a> &gt; <span class="el_source">ListLogsController.java</span></div><h1>ListLogsController.java</h1><pre class="source lang-java linenums">/*
 * Licensed under the GPL License. You may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
 *
 * THIS PACKAGE IS PROVIDED &quot;AS IS&quot; AND WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE.
 */
package psiprobe.controllers.logs;

import java.util.List;

import javax.inject.Inject;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.ServletRequestUtils;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.mvc.ParameterizableViewController;

import psiprobe.beans.LogResolverBean;
import psiprobe.tools.logging.LogDestination;

/**
 * The Class ListLogsController.
 */
@Controller
<span class="fc" id="L33">public class ListLogsController extends ParameterizableViewController {</span>

  /** The error view. */
  private String errorView;

  /** The log resolver. */
  @Inject
  private LogResolverBean logResolver;

  /**
   * Gets the error view.
   *
   * @return the error view
   */
  public String getErrorView() {
<span class="fc" id="L48">    return errorView;</span>
  }

  /**
   * Sets the error view.
   *
   * @param errorView the new error view
   */
  @Value(&quot;logs_notsupported&quot;)
  public void setErrorView(String errorView) {
<span class="fc" id="L58">    this.errorView = errorView;</span>
<span class="fc" id="L59">  }</span>

  /**
   * Gets the log resolver.
   *
   * @return the log resolver
   */
  public LogResolverBean getLogResolver() {
<span class="fc" id="L67">    return logResolver;</span>
  }

  /**
   * Sets the log resolver.
   *
   * @param logResolver the new log resolver
   */
  public void setLogResolver(LogResolverBean logResolver) {
<span class="fc" id="L76">    this.logResolver = logResolver;</span>
<span class="fc" id="L77">  }</span>

  @RequestMapping(path = {&quot;/logs&quot;, &quot;/list.htm&quot;})
  @Override
  public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response)
      throws Exception {
<span class="nc" id="L83">    return super.handleRequest(request, response);</span>
  }

  @Override
  protected ModelAndView handleRequestInternal(HttpServletRequest request,
      HttpServletResponse response) throws Exception {

<span class="nc" id="L90">    boolean showAll = ServletRequestUtils.getBooleanParameter(request, &quot;apps&quot;, false);</span>
<span class="nc" id="L91">    List&lt;LogDestination&gt; uniqueList = logResolver.getLogDestinations(showAll);</span>
<span class="nc bnc" id="L92" title="All 2 branches missed.">    if (!uniqueList.isEmpty()) {</span>
<span class="nc" id="L93">      return new ModelAndView(getViewName()).addObject(&quot;logs&quot;, uniqueList);</span>
    }
<span class="nc" id="L95">    return new ModelAndView(errorView);</span>
  }

  @Value(&quot;logs&quot;)
  @Override
  public void setViewName(String viewName) {
<span class="fc" id="L101">    super.setViewName(viewName);</span>
<span class="fc" id="L102">  }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>